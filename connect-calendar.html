<!-- connect-calendar.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>RunCall – Connecter Google Calendar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />

  <style>
    /* Scoped to this page only */
    .cc-page{ background:#f8fafc; }
    .cc-wrap{ max-width: 820px; margin: 0 auto; padding: 18px 0 46px; }
    .cc-card{
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:18px;
      box-shadow:0 18px 40px rgba(15,23,42,.08);
      overflow:hidden;
    }
    .cc-hero{
      padding: 26px 24px 18px;
      border-bottom:1px solid #e5e7eb;
      background: radial-gradient(900px 320px at 20% 0%, rgba(22,119,255,.12), transparent 58%);
    }
    .cc-badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px; border-radius:999px;
      border:1px solid #e5e7eb; background:#fff;
      color:#475569; font-size:.9rem;
    }
    .cc-dot{ width:8px; height:8px; border-radius:999px; background:#1677ff; }
    .cc-title{
      margin: 14px 0 6px;
      font-size: 1.7rem; line-height:1.2;
      letter-spacing:-.02em; color:#0f172a;
    }
    .cc-subtitle{
      margin:0; color:#475569; line-height:1.55;
      font-size:1.02rem; max-width: 70ch;
    }
    .cc-body{ padding: 20px 24px 24px; }
    .cc-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      align-items:start;
      margin-top: 14px;
    }
    .cc-panel{
      border:1px solid #e5e7eb;
      border-radius:16px;
      padding:16px;
      background:#fff;
    }
    .cc-steps{
      margin: 0;
      padding-left: 18px;
      color:#475569;
      line-height:1.7;
    }
    .cc-steps li{ margin: 7px 0; }
    .cc-note{
      margin-top: 12px;
      color:#64748b;
      font-size:.95rem;
      line-height:1.6;
    }
    .cc-cta{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .cc-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      width:100%;
      padding: 12px 14px;
      border-radius: 16px;
      border:1px solid #1677ff;
      background: rgba(22,119,255,.10);
      color:#0f172a;
      text-decoration:none;
      font-weight:700;
      letter-spacing:-.01em;
      transition: transform 140ms ease, box-shadow 160ms ease, background-color 160ms ease;
    }
    .cc-btn:hover{
      transform: translateY(-1px);
      background: rgba(22,119,255,.14);
      box-shadow: 0 12px 26px rgba(22,119,255,.12);
    }
    .cc-btn:active{ transform: translateY(0); }
    .cc-btn .icon{
      width: 26px; height: 26px;
      border-radius: 10px;
      border:1px solid #e5e7eb;
      background:#fff;
      display:grid;
      place-items:center;
      font-weight:900;
      color:#1677ff;
      flex: 0 0 auto;
    }
    .cc-secondary{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:100%;
      padding: 11px 14px;
      border-radius: 16px;
      border:1px solid #e5e7eb;
      background:#fff;
      color:#0f172a;
      text-decoration:none;
      transition: transform 140ms ease, border-color 160ms ease, background-color 160ms ease;
    }
    .cc-secondary:hover{
      transform: translateY(-1px);
      border-color:#1677ff;
      background: rgba(22,119,255,.06);
    }
    .cc-muted{
      margin-top: 8px;
      color:#64748b;
      font-size:.92rem;
      line-height:1.5;
      text-align:center;
    }
    .cc-alert{
      margin-top: 14px;
      border-radius: 14px;
      border:1px solid #e5e7eb;
      background: #ffffff;
      padding: 12px 12px;
      color:#475569;
      font-size: .95rem;
      line-height: 1.55;
    }
    .cc-alert strong{ color:#0f172a; }
    @media (max-width: 780px){
      .cc-grid{ grid-template-columns: 1fr; }
      .cc-title{ font-size: 1.45rem; }
    }
  </style>
</head>

<body>

<header class="site-header">
  <div class="container header-inner">
    <a href="index.html" class="logo-link">
      <div class="logo">RunCall</div>
    </a>
  </div>
</header>

<div class="lang-switch">
  <button type="button" data-lang="fr">FR</button>
  <button type="button" data-lang="en">EN</button>
</div>

<section class="section cc-page">
  <div class="container cc-wrap">

    <div class="cc-card">
      <div class="cc-hero">
        <div class="cc-badge">
          <span class="cc-dot"></span>
          <span data-fr="Configuration" data-en="Setup"></span>
        </div>

        <h1 class="cc-title"
            data-fr="Connecte ton Google Calendar"
            data-en="Connect your Google Calendar"></h1>

        <p class="cc-subtitle"
           data-fr="Cette étape permet à RunCall d’identifier tes disponibilités, d’éviter les conflits, et de créer automatiquement un lien Google Meet lorsqu’un créneau est réservé."
           data-en="This step allows RunCall to identify your availability, avoid conflicts, and automatically create a Google Meet link when a slot is booked."></p>
      </div>

      <div class="cc-body">
        <div class="cc-grid">

          <div class="cc-panel">
            <ol class="cc-steps">
              <li
                data-fr="Clique sur « Connect Google Calendar » et autorise RunCall à accéder à ton agenda."
                data-en="Click “Connect Google Calendar” and allow RunCall to access your calendar.">
              </li>

              <li
                data-fr="Une fois connecté, ouvre Google Calendar et crée tes disponibilités."
                data-en="Once connected, open Google Calendar and create your availability.">
              </li>

              <li
                data-fr="Ajoute simplement « RunCall » ou « Run-Call » dans le titre de l’événement pour le rendre disponible."
                data-en="Simply add “RunCall” or “Run-Call” in the event title to make it available.">
              </li>

              <li
                data-fr="Lorsqu’un créneau est réservé, tu es automatiquement informé."
                data-en="When a slot is booked, you are automatically notified.">
              </li>
            </ol>

            <div class="cc-alert">
              <strong data-fr="Note :" data-en="Note:"></strong>
              <span
                data-fr="RunCall n’affiche que les créneaux que tu ouvres volontairement. Si un événement RunCall est en conflit avec un autre événement de ton agenda, il ne sera pas proposé. Pour fermer des disponibilités (vacances, imprévus), il suffit de supprimer ou modifier l’événement RunCall dans Google Calendar."
                data-en="RunCall only shows the slots you intentionally open. If a RunCall event conflicts with another calendar event, it will not be offered. To close availability (vacation, conflicts), simply delete or edit the RunCall event in Google Calendar."
              ></span>
            </div>
          </div>




          <div class="cc-cta">
            <!-- V2 endpoint (placeholder). When ready, this will start OAuth. -->
            <a class="cc-btn" href="/api/google/connect">
              <span class="icon">G</span>
              <span data-fr="Connect Google Calendar" data-en="Connect Google Calendar"></span>
            </a>

            <a class="cc-secondary" href="index.html"
               data-fr="Retour à RunCall"
               data-en="Back to RunCall"></a>

            <div class="cc-muted"
                 data-fr="(Tu pourras déconnecter ton agenda à tout moment.)"
                 data-en="(You can disconnect your calendar anytime.)"></div>
          </div>

        </div>
      </div>
    </div>

  </div>
</section>

<script>
(function () {
  const buttons = document.querySelectorAll('.lang-switch button');
  let lang = localStorage.getItem('runcall_lang');

  if (!lang) {
    const browserLang = navigator.language || navigator.userLanguage;
    lang = (browserLang || "").toLowerCase().startsWith('fr') ? 'fr' : 'en';
  }

  function applyLanguage(lang) {
    document.querySelectorAll('[data-fr][data-en]').forEach(el => {
      el.textContent = el.dataset[lang];
    });

    buttons.forEach(btn => {
      btn.classList.toggle('active', btn.dataset.lang === lang);
    });

    localStorage.setItem('runcall_lang', lang);
  }

  buttons.forEach(btn => btn.addEventListener('click', () => applyLanguage(btn.dataset.lang)));
  applyLanguage(lang);
})();
</script>

</body>
</html>
